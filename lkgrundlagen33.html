<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Russisch Vokabel-Trainer</title>
    <style>
        :root {
            --primary-green: #2e7d32; /* Dunkles Gr√ºn */
            --secondary-green: #4caf50; /* Standard Gr√ºn */
            --light-green: #e8f5e9; /* Sehr helles Gr√ºn f√ºr Hintergrund */
            --accent-color: #81c784;
            --text-color: #333;
            --white: #ffffff;
            --shadow: 0 4px 6px rgba(0,0,0,0.1);
            --transition-speed: 0.6s;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--light-green);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
        }

        .app-container {
            width: 100%;
            max-width: 600px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 10px;
        }

        h1 {
            color: var(--primary-green);
            font-size: 1.8rem;
            margin-bottom: 5px;
        }

        .progress-indicator {
            font-size: 1rem;
            color: #666;
            font-weight: bold;
            background: rgba(255,255,255,0.6);
            padding: 5px 15px;
            border-radius: 20px;
        }

        /* --- 3D Card Styling --- */
        .scene {
            width: 100%;
            height: 300px;
            perspective: 1000px;
            margin-bottom: 20px;
        }

        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transition: transform var(--transition-speed);
            transform-style: preserve-3d;
            cursor: pointer;
        }

        .card.is-flipped {
            transform: rotateY(180deg);
        }

        .card__face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            text-align: center;
            background-color: var(--white);
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
            border: 2px solid var(--secondary-green);
            font-size: 2rem; /* Basisgr√∂√üe */
            color: var(--text-color);
            user-select: none;
        }

        .card__face--front {
            background: linear-gradient(135deg, #ffffff 0%, #f1f8e9 100%);
        }

        .card__face--back {
            background: linear-gradient(135deg, #f1f8e9 0%, #ffffff 100%);
            transform: rotateY(180deg);
            color: var(--primary-green);
        }

        .card-label {
            position: absolute;
            top: 15px;
            left: 15px;
            font-size: 0.8rem;
            text-transform: uppercase;
            color: #888;
            letter-spacing: 1px;
        }

        .hint-icon {
            position: absolute;
            bottom: 15px;
            right: 15px;
            font-size: 1.2rem;
            color: var(--secondary-green);
            opacity: 0.5;
        }

        /* --- Controls --- */
        .controls-area {
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .nav-buttons {
            display: flex;
            justify-content: space-between;
            gap: 10px;
        }

        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 10px;
        }

        button {
            border: none;
            border-radius: 8px;
            padding: 12px 20px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }

        button:active {
            transform: translateY(2px);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .btn-nav {
            background-color: var(--secondary-green);
            color: var(--white);
            flex: 1;
        }

        .btn-nav:hover {
            background-color: var(--primary-green);
        }

        .btn-action {
            background-color: var(--white);
            color: var(--primary-green);
            border: 2px solid var(--secondary-green);
        }

        .btn-action:hover {
            background-color: var(--light-green);
        }

        .keyboard-hint {
            margin-top: 20px;
            font-size: 0.8rem;
            color: #777;
            text-align: center;
        }

        /* --- Responsive Typography --- */
        /* Klassen f√ºr dynamische Schriftgr√∂√üenanpassung per JS */
        .text-long { font-size: 1.5rem; }
        .text-very-long { font-size: 1.2rem; }

        @media (max-width: 480px) {
            .scene { height: 250px; }
            h1 { font-size: 1.5rem; }
            button { padding: 10px 15px; font-size: 0.9rem; }
            .card__face { font-size: 1.5rem; }
        }
    </style>
</head>
<body>

    <div class="app-container">
        <header>
            <h1>Russisch Vokabeln</h1>
            <div id="progress" class="progress-indicator">Karte 1 / 65</div>
        </header>

        <div class="scene">
            <div class="card" id="card">
                <div class="card__face card__face--front">
                    <span class="card-label">Russisch</span>
                    <div id="text-front">Lade...</div>
                    <div class="hint-icon">‚Üª</div>
                </div>
                <div class="card__face card__face--back">
                    <span class="card-label">Deutsch</span>
                    <div id="text-back">...</div>
                </div>
            </div>
        </div>

        <div class="controls-area">
            <div class="nav-buttons">
                <button class="btn-nav" id="btn-prev">‚Üê Vorherige</button>
                <button class="btn-nav" id="btn-next">N√§chste ‚Üí</button>
            </div>
            
            <div class="action-buttons">
                <button class="btn-action" id="btn-reset">‚èÆ Anfang</button>
                <button class="btn-action" id="btn-shuffle">üîÄ Mischen</button>
            </div>
        </div>

        <div class="keyboard-hint">
            Tastatur: ‚¨Ö/‚û° Navigation | Leertaste/Enter: Drehen | Pos1: Anfang
        </div>
    </div>

    <script>
        // --- Datenbasis ---
        const rawData = `
1.	–±—ã—Ç—å / –ø–æ–±—ãÃÅ—Ç—å ‚Äì sein / (zeitweilig) sein, verweilen
2.	—è ‚Äì ich
3.	—Ç—ã ‚Äì du
4.	–æ–Ω ‚Äì er
5.	–æ–Ω–∞ÃÅ ‚Äì sie (Singular)
6.	–æ–Ω–æÃÅ ‚Äì es
7.	–º—ã ‚Äì wir
8.	–≤—ã ‚Äì ihr / Sie (h√∂flich)
9.	–æ–Ω–∏ÃÅ ‚Äì sie (Plural)
10.	–º–∞ÃÅ–º–∞ ‚Äì Mama
11.	–ø–∞ÃÅ–ø–∞ ‚Äì Papa
12.	–±—Ä–∞—Ç ‚Äì Bruder
13.	—Å–µ—Å—Ç—Ä–∞ÃÅ ‚Äì Schwester
14.	—Ä–æ–¥–∏ÃÅ—Ç–µ–ª–∏ ‚Äì Eltern
15.	–¥—Ä—É–≥ ‚Äì Freund
16.	–ø–æ–¥—Ä—ÉÃÅ–≥–∞ ‚Äì Freundin
17.	–¥—Ä—É–∑—å—èÃÅ ‚Äì Freunde
18.	–∫–æ—Ç ‚Äì Kater
19.	—Å–æ–±–∞ÃÅ–∫–∞ ‚Äì Hund
20.	—Å—Ç—É–¥–µÃÅ–Ω—Ç ‚Äì Student
21.	–≤—Ä–∞—á ‚Äì Arzt
22.	—á–µ–ª–æ–≤–µÃÅ–∫ ‚Äì Mensch / Person
23.	–ª—éÃÅ–¥–∏ ‚Äì Leute / Menschen
24.	–¥–æ–º ‚Äì Haus
25.	—à–∫–æÃÅ–ª–∞ ‚Äì Schule
26.	–ø–∞—Ä–∫ ‚Äì Park
27.	–∫–∏–Ω–æÃÅ ‚Äì Kino
28.	–º–∞–≥–∞–∑–∏ÃÅ–Ω ‚Äì Gesch√§ft / Laden
29.	–æÃÅ—Ñ–∏—Å ‚Äì B√ºro
30.	—Ä–µ—Å—Ç–æ—Ä–∞ÃÅ–Ω ‚Äì Restaurant
31.	–≥–∞—Ä–∞ÃÅ–∂ ‚Äì Garage
32.	–º–æÃÅ—Ä–µ ‚Äì Meer
33.	—Å—Ç–æ–ª ‚Äì Tisch
34.	—Å—Ç—É–ª (Pl. —Å—Ç—ÉÃÅ–ª—å—è) ‚Äì Stuhl
35.	–æ–∫–Ω–æÃÅ ‚Äì Fenster
36.	–∫–Ω–∏ÃÅ–≥–∞ ‚Äì Buch
37.	–ø–∏—Å—å–º–æÃÅ ‚Äì Brief
38.	–±–∏–ª–µÃÅ—Ç ‚Äì Ticket / Fahrkarte
39.	—Ç–µ–ª–µ—Ñ–æÃÅ–Ω ‚Äì Telefon
40.	–º–∞—à–∏ÃÅ–Ω–∞ ‚Äì Auto
41.	—Ä–∞ÃÅ–¥–∏–æ ‚Äì Radio
42.	–ª–∞ÃÅ–º–ø–∞ ‚Äì Lampe
43.	—èÃÅ–±–ª–æ–∫–æ ‚Äì Apfel
44.	–¥–µÃÅ—Ä–µ–≤–æ ‚Äì Baum
45.	–≤—Ä–µÃÅ–º—è ‚Äì Zeit
46.	–¥–µÃÅ–Ω—å–≥–∏ ‚Äì Geld
47.	–ø—Ä–æ–±–ª–µÃÅ–º–∞ ‚Äì Problem
48.	–ø–∞–ª—å—Ç–æÃÅ ‚Äì Mantel
49.	–≤—á–µ—Ä–∞ÃÅ ‚Äì gestern
50.	—Å–µ–≥–æÃÅ–¥–Ω—è ‚Äì heute
51.	–∑–∞ÃÅ–≤—Ç—Ä–∞ ‚Äì morgen
52.	—Å–µ–π—á–∞ÃÅ—Å ‚Äì jetzt
53.	—Ä–∞ÃÅ–Ω—å—à–µ ‚Äì fr√ºher
54.	–Ω–∏–∫–æ–≥–¥–∞ÃÅ ‚Äì nie / niemals
55.	–∑–¥–µ—Å—å ‚Äì hier
56.	—Ç–∞–º ‚Äì dort
57.	–¥–æÃÅ–º–∞ ‚Äì zu Hause
58.	—Å–∫–æÃÅ–ª—å–∫–æ ‚Äì wie viel
59.	–º–Ω–æÃÅ–≥–æ ‚Äì viel
60.	–º–∞ÃÅ–ª–æ ‚Äì wenig
61.	–Ω–µÃÅ—Å–∫–æ–ª—å–∫–æ ‚Äì einige / ein paar
62.	—É ‚Äì bei (Pr√§position mit Genitiv)
63.	–≤ ‚Äì in (Pr√§position)
64.	–Ω–∞ ‚Äì auf (Pr√§position)
65.	–Ω–µ—Ç ‚Äì nein / gibt es nicht / kein
`;

        // --- State Management ---
        let cards = [];
        let currentDeck = [];
        let currentIndex = 0;
        let isFlipped = false;

        // --- DOM Elements ---
        const cardElement = document.getElementById('card');
        const frontText = document.getElementById('text-front');
        const backText = document.getElementById('text-back');
        const progressIndicator = document.getElementById('progress');
        
        const btnPrev = document.getElementById('btn-prev');
        const btnNext = document.getElementById('btn-next');
        const btnReset = document.getElementById('btn-reset');
        const btnShuffle = document.getElementById('btn-shuffle');

        // --- Initialisierung ---
        function init() {
            parseData();
            currentDeck = [...cards]; // Kopie erstellen
            updateCardDisplay();
            setupEventListeners();
        }

        // --- Daten parsen ---
        function parseData() {
            const lines = rawData.trim().split('\n');
            cards = lines.map(line => {
                // Entferne Nummerierung am Anfang (z.B. "1. ")
                const cleanLine = line.replace(/^\d+\.\s*/, '');
                // Teile bei " ‚Äì " oder " - "
                const parts = cleanLine.split(/‚Äì|-/);
                
                if (parts.length >= 2) {
                    return {
                        front: parts[0].trim(),
                        back: parts.slice(1).join('‚Äì').trim() // Falls weitere Bindestriche im Text sind
                    };
                }
                return null;
            }).filter(item => item !== null);
        }

        // --- Kernfunktionen ---

        function updateCardDisplay() {
            // Wenn keine Karten da sind (Fehlerfall)
            if (currentDeck.length === 0) return;

            const currentCard = currentDeck[currentIndex];

            // Text setzen
            frontText.innerText = currentCard.front;
            backText.innerText = currentCard.back;

            // Schriftgr√∂√üe anpassen
            adjustFontSize(frontText, currentCard.front);
            adjustFontSize(backText, currentCard.back);

            // Fortschritt
            progressIndicator.innerText = `Karte ${currentIndex + 1} / ${currentDeck.length}`;

            // Karte zur√ºckdrehen, falls sie gedreht ist
            if (isFlipped) {
                cardElement.classList.remove('is-flipped');
                isFlipped = false;
            }
        }

        function adjustFontSize(element, text) {
            element.classList.remove('text-long', 'text-very-long');
            if (text.length > 30) {
                element.classList.add('text-very-long');
            } else if (text.length > 15) {
                element.classList.add('text-long');
            }
        }

        function flipCard() {
            isFlipped = !isFlipped;
            cardElement.classList.toggle('is-flipped');
        }

        function nextCard() {
            if (currentIndex < currentDeck.length - 1) {
                currentIndex++;
                updateCardDisplay();
            }
        }

        function prevCard() {
            if (currentIndex > 0) {
                currentIndex--;
                updateCardDisplay();
            }
        }

        function resetToStart() {
            currentIndex = 0;
            updateCardDisplay();
        }

        function shuffleDeck() {
            // Fisher-Yates Shuffle
            for (let i = currentDeck.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [currentDeck[i], currentDeck[j]] = [currentDeck[j], currentDeck[i]];
            }
            currentIndex = 0;
            updateCardDisplay();
            
            // Kurzes visuelles Feedback f√ºr das Mischen (Button animieren)
            const originalText = btnShuffle.innerText;
            btnShuffle.innerText = "Gemischt!";
            setTimeout(() => btnShuffle.innerText = originalText, 1000);
        }

        // --- Event Listeners ---

        function setupEventListeners() {
            // Maus / Touch
            cardElement.addEventListener('click', flipCard);
            
            btnNext.addEventListener('click', (e) => {
                e.stopPropagation(); // Verhindert focus Probleme
                nextCard();
            });
            
            btnPrev.addEventListener('click', (e) => {
                e.stopPropagation();
                prevCard();
            });

            btnReset.addEventListener('click', (e) => {
                e.target.blur(); // Fokus entfernen
                resetToStart();
            });

            btnShuffle.addEventListener('click', (e) => {
                e.target.blur();
                shuffleDeck();
            });

            // Tastatursteuerung
            document.addEventListener('keydown', (e) => {
                switch(e.key) {
                    case "ArrowRight":
                        nextCard();
                        break;
                    case "ArrowLeft":
                        prevCard();
                        break;
                    case " ":
                    case "Enter":
                        e.preventDefault(); // Scrollen verhindern bei Leertaste
                        flipCard();
                        break;
                    case "Home":
                        resetToStart();
                        break;
                }
            });
        }

        // Start
        init();

    </script>
</body>
</html>